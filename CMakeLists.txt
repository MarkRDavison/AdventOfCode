CMAKE_MINIMUM_REQUIRED(VERSION 3.10)

CMAKE_POLICY(SET CMP0074 NEW)
#CMAKE_POLICY(SET CMP0110 NEW)
# Policy not known to ci cmake

PROJECT(AdventOfCode 
	VERSION 1
	LANGUAGES CXX)
	
SET(CMAKE_CXX_STANDARD 17)
SET(CMAKE_CXX_STANDARD_REQUIRED ON)
SET(PROJECT_SOURCE_DIR ${CMAKE_CURRENT_SOURCE_DIR})
INCLUDE(${CMAKE_CURRENT_SOURCE_DIR}/build/conanbuildinfo.cmake)
conan_basic_setup()

MESSAGE(STATUS "CMAKE_BUILD_TYPE")
MESSAGE(STATUS ${CMAKE_BUILD_TYPE})

IF (NOT CMAKE_BUILD_TYPE OR CMAKE_BUILD_TYPE STREQUAL "Debug")
	SET(ADVENT_OF_CODE_CONAN_LIBS ${CONAN_LIBS_DEBUG})
ELSE(CMAKE_BUILD_TYPE STREQUAL "Release" ||
	 CMAKE_BUILD_TYPE STREQUAL "RelWithDebInfo" ||
	 CMAKE_BUILD_TYPE STREQUAL "MinSizeRel")
	SET(ADVENT_OF_CODE_CONAN_LIBS ${CONAN_LIBS_RELEASE})
ENDIF()

ADD_SUBDIRECTORY(lib)
ADD_SUBDIRECTORY(app)
ENABLE_TESTING()
ADD_SUBDIRECTORY(test)